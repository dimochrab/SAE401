{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!{% endblock %}

{% block body %}
<h2>Publications</h2>
<div>
    {% for publication in publications %}
        <div>
                    <p>Posté par : {{ publication.userID.username }}</p>
                    <img src="{{ asset('/uploads/' ~ publication.userID.profilePicture) }}" alt="Image de profil" style="width: 40px;">

            <p>{{ publication.DateTime|date('Y-m-d H:i') }}</p>
            <p>{{ publication.postType }}</p>

            {% if publication.fileType == 'image' %}
                <img src="{{ asset('/uploads/' ~ publication.postContent) }}" alt="Image de publication">
            {% elseif publication.fileType == 'video' %}
                <video controls src="{{ asset('/uploads/' ~ publication.postContent) }}"></video>
            {% endif %}
        </div>
    {% else %}
        <p>Aucune publication à afficher.</p>
    {% endfor %}
</div>
{% endblock %}
